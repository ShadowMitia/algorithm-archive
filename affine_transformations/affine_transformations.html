<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Affine Transformations - Arcane Algorithm Archive</title>


        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Algorithm Archive</a></li><li class="chapter-item expanded "><a href="../introduction/introduction.html"><strong aria-hidden="true">2.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../how_to_contribute/how_to_contribute.html"><strong aria-hidden="true">3.</strong> How To Contribute</a></li><li class="chapter-item expanded "><a href="../plotting/plotting.html"><strong aria-hidden="true">4.</strong> Plotting</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../domain_coloring/domain_coloring.html"><strong aria-hidden="true">4.1.</strong> Domain Coloring</a></li><li class="chapter-item expanded "><a href="../IFS/IFS.html"><strong aria-hidden="true">4.2.</strong> Iterated Function Systems</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../barnsley/barnsley.html"><strong aria-hidden="true">4.2.1.</strong> The Barnsley Fern</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../data_structures/data_structures.html"><strong aria-hidden="true">5.</strong> Data Structures</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../stacks_and_queues/stacks_and_queues.html"><strong aria-hidden="true">5.1.</strong> Stacks and Queues</a></li></ol></li><li class="chapter-item expanded "><a href="../mathematical_background/mathematical_background.html"><strong aria-hidden="true">6.</strong> Mathematical Background</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../notation/notation.html"><strong aria-hidden="true">6.1.</strong> Complexity Notation</a></li><li class="chapter-item expanded "><a href="../affine_transformations/affine_transformations.html" class="active"><strong aria-hidden="true">6.2.</strong> Affine Transformations</a></li><li class="chapter-item expanded "><a href="../bitlogic/bitlogic.html"><strong aria-hidden="true">6.3.</strong> Bit Logic</a></li><li class="chapter-item expanded "><a href="../taylor_series_expansion/taylor_series_expansion.html"><strong aria-hidden="true">6.4.</strong> Taylor Series</a></li><li class="chapter-item expanded "><a href="../convolutions/convolutions.html"><strong aria-hidden="true">6.5.</strong> Convolutions</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../convolutions/1d/1d.html"><strong aria-hidden="true">6.5.1.</strong> Convolutions in 1D</a></li><li class="chapter-item expanded "><a href="../convolutions/multiplication/multiplication.html"><strong aria-hidden="true">6.5.2.</strong> Multiplication as a Convolution</a></li><li class="chapter-item expanded "><a href="../convolutions/2d/2d.html"><strong aria-hidden="true">6.5.3.</strong> Convolutions of Images (2D)</a></li><li class="chapter-item expanded "><a href="../convolutions/convolutional_theorem/convolutional_theorem.html"><strong aria-hidden="true">6.5.4.</strong> Convolutional Theorem</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../tree_traversal/tree_traversal.html"><strong aria-hidden="true">7.</strong> Tree Traversal</a></li><li class="chapter-item expanded "><a href="../euclidean_algorithm/euclidean_algorithm.html"><strong aria-hidden="true">8.</strong> Euclidean Algorithm</a></li><li class="chapter-item expanded "><a href="../monte_carlo_integration/monte_carlo_integration.html"><strong aria-hidden="true">9.</strong> Monte Carlo</a></li><li class="chapter-item expanded "><a href="../matrix_methods/matrix_methods.html"><strong aria-hidden="true">10.</strong> Matrix Methods</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../gaussian_elimination/gaussian_elimination.html"><strong aria-hidden="true">10.1.</strong> Gaussian Elimination</a></li><li class="chapter-item expanded "><a href="../thomas_algorithm/thomas_algorithm.html"><strong aria-hidden="true">10.2.</strong> Thomas Algorithm</a></li></ol></li><li class="chapter-item expanded "><a href="../computational_geometry/computational_geometry.html"><strong aria-hidden="true">11.</strong> Computational Geometry</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../gift_wrapping/gift_wrapping.html"><strong aria-hidden="true">11.1.</strong> Gift Wrapping</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../jarvis_march/jarvis_march.html"><strong aria-hidden="true">11.1.1.</strong> Jarvis March</a></li><li class="chapter-item expanded "><a href="../graham_scan/graham_scan.html"><strong aria-hidden="true">11.1.2.</strong> Graham Scan</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../cooley_tukey/cooley_tukey.html"><strong aria-hidden="true">12.</strong> FFT</a></li><li class="chapter-item expanded "><a href="../decision_problems/decision_problems.html"><strong aria-hidden="true">13.</strong> Decision Problems</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../stable_marriage_problem/stable_marriage_problem.html"><strong aria-hidden="true">13.1.</strong> Stable Marriage Problem</a></li></ol></li><li class="chapter-item expanded "><a href="../physics_solvers/physics_solvers.html"><strong aria-hidden="true">14.</strong> Physics Solvers</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../verlet_integration/verlet_integration.html"><strong aria-hidden="true">14.1.</strong> Verlet Integration</a></li><li class="chapter-item expanded "><a href="../quantum_systems/quantum_systems.html"><strong aria-hidden="true">14.2.</strong> Quantum Systems</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../split-operator_method/split-operator_method.html"><strong aria-hidden="true">14.2.1.</strong> Split-Operator Method</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../data_compression/data_compression.html"><strong aria-hidden="true">15.</strong> Data Compression</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../huffman_encoding/huffman_encoding.html"><strong aria-hidden="true">15.1.</strong> Huffman Encoding</a></li></ol></li><li class="chapter-item expanded "><a href="../computer_graphics/computer_graphics.html"><strong aria-hidden="true">16.</strong> Computer Graphics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../flood_fill/flood_fill.html"><strong aria-hidden="true">16.1.</strong> Flood Fill</a></li></ol></li><li class="chapter-item expanded "><a href="../quantum_information/quantum_information.html"><strong aria-hidden="true">17.</strong> Quantum Information</a></li><li class="chapter-item expanded "><a href="../computus/computus.html"><strong aria-hidden="true">18.</strong> Computus</a></li><li class="chapter-item expanded "><a href="../approximate_counting/approximate_counting.html"><strong aria-hidden="true">19.</strong> Approximate Counting Algorithm</a></li><li class="chapter-item expanded affix "><a href="../bibliography.html">Bibliography</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Arcane Algorithm Archive</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/algorithm-archivists/algorithm-archive/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="affine-transformations"><a class="header" href="#affine-transformations">Affine Transformations</a></h1>
<p>Affine transformations are a class of mathematical operations that encompass rotation, scaling, translation, shearing, and several similar transformations that are regularly used for various applications in mathematics and computer graphics.
To start, we will draw a distinct (yet thin) line between affine and linear transformations before discussing the augmented matrix formalism typically used in practice.</p>
<h2 id="a-quick-intro-to-affine-and-linear-transforms"><a class="header" href="#a-quick-intro-to-affine-and-linear-transforms">A quick intro to affine (and linear) transforms</a></h2>
<p>Let us start with a provided point, \( (x,y) \), on a two-dimensional plane.
If we treat this point as a \( 1 \times 2 \) vector, we can transform it into another \( 1 \times 2 \) vector by multiplying it with a \( 2 \times 2 \) transformation matrix.
Similarly, a three-dimensional point could be seen as a \( 1\times 3 \) vector and would need a \( 3 \times 3  \) transformation matrix.
These types of operations are known as linear transformations and are often notated as,</p>
<p>\[ \mathbf{v} = \mathbf{A}\mathbf{v}_0. \]</p>
<p>Here, \( \mathbf{A} \) is an \( n\times n \) transformation matrix, where \( n \) is the length of the input and output vectors, \( \mathbf{v_0} \) and \( \mathbf{v} \), respectively.
Though these transformations are powerful, all of them are centered about the origin.
Affine transformations extend linear transformations beyond this limitation and allow us to also translate our initial vector locations such that</p>
<p>\[ \textbf{v} = \mathbf{A}\mathbf{v}_0 + \ell. \]</p>
<p>Here, \( \ell \) is an \( n\times 1 \) translation vector.
To understand the power of these transformations, it is important to see them in practice:</p>
<table><thead><tr><th>Description</th><th>Transform</th></tr></thead><tbody>
<tr><td>Scaling along \( x \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a11_square_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Scaling along \( y \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a22_square_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Shearing along \( x \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a12_square_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Shearing along \( y \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a21_square_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Translation along \( x \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a13_square_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Translation along \( y \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a23_square_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
</tbody></table>
<p>For all of these visualizations, we show a set of 4 points that are assigned to the vertices of a square.
Initially, \( \mathbf{A} \) is set to be the identity matrix and \( \ell = [0,0] \), such that there is no transformation or translation to the input vectors.
From there, each element of \( \mathbf{A} \) and \( \ell \) are modified individually and the resulting transformation can be seen on the left.
The amount by which each element has been modified is shown numerically in the matrix representation and also as small dials underneath.</p>
<p>The hope is that these visualizations show that each element within \( \mathbf{A} \) and \( \ell \) are simply dials that can be manipulated to perform a specified transformation on the set of input vectors.
Of course, it is entirely possible to move more than one dial at a time, which is why it is worth diving into an example that everyone loves: rotation.</p>
<h3 id="rotation-a-special-side-note"><a class="header" href="#rotation-a-special-side-note">Rotation: a special side-note</a></h3>
<p>I will be honest, when I initially learned how to perform rotation with a linear transformation, I did not really understand how it worked.
For this reason, I think it is important to delve a bit deeper into this topic, hopefully providing an intuitive explanation for those who are new (and potentially those who already use the rotation matrix regularly, but do not fully understand it).</p>
<p>If someone were to take the set of dials shown above and mix them to create a rotational effect, they might start by shearing in one direction along \( x \) and then another direction along \( y \) which will create a &quot;pseudo-rotation&quot; effect.
This is definitely a step in the right direction, but if the shearing components are modified while the other components remain 1, the points will also move further away from the origin.
For this reason, an additional scaling along \( x \) and \( y \) is necessary.
This is shown in the following animation:</p>
<div style="text-align:center">
<video style="width:100%" controls loop>
  <source src="res/semi_rotate_white.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
</div>
<p>Here, we see that (at least for angles less than \( \pi/2 \)), rotation is simply a matter of shearing in opposite directions and scaling accordingly.
Now the only question is, <em>&quot;How do we know the amount we need to shear and scale?&quot;</em></p>
<p>Well, the answer is not particularly surprising.
If we want to rotate our points, we probably are already imagining this rotation along a circle with some angle \( \theta \).
We know that the identity matrix should correspond to a non-rotated object with \( \theta = 0 \).
For this reason, we know that two elements should start at 1 (note: \( \cos(0) = 1 \)) and the other two should start at 0 (note: \( \sin(0) = 0 \)).
We also know that the shearing should happen in opposite directions, so we might guess that the rotation matrix would be:</p>
<p>\[
\mathbf{A}_{\text{rot}} = \begin{bmatrix}
\cos(\theta) &amp; -\sin(\theta) \\
\sin(\theta) &amp; \cos(\theta) \\
\end{bmatrix}
\]</p>
<p>In this case, the amount we want to shear should start at 0 when \( \theta = 0 \) and then go to \( \pm 1 \) when \( \theta = \pm \pi/2 \).
Meanwhile, the scale factor should start at 1 when \( \theta = 0 \) and go to \( 0 \) when \( \theta = \pi/2 \).</p>
<p>This <em>seems</em> right, but it is worth dwelling on this a bit more.
If the scale factor is 0 at \( \pi/2 \), surely this means that all points on the square are also at 0, right?
After all, anything scaled by 0 should be 0!
Well, not exactly.
In this case,</p>
<p>\[
\mathbf{A} = \begin{bmatrix}
1 &amp; 0 \\
0 &amp; 1 \\
\end{bmatrix}
\rightarrow
\begin{bmatrix}
0 &amp; -1 \\
1 &amp; 0 \\
\end{bmatrix}
\]</p>
<p>This means that even though the scaling components are 0, the shear components are \( \pm 1 \).
This might still be a little confusing so let us multiply the vector \( [1,2] \) with both of these matrices:</p>
<p>\[
\begin{align}
\begin{bmatrix}
1 &amp; 0 \\
0 &amp; 1 \\
\end{bmatrix}
\begin{bmatrix}
1 \\
2 \\
\end{bmatrix}
&amp;=
\begin{bmatrix}
1 \\
2 \\
\end{bmatrix},\\</p>
<p>\begin{bmatrix}
0 &amp; -1 \\
1 &amp; 0 \\
\end{bmatrix}
\begin{bmatrix}
1 \\
2 \\
\end{bmatrix}
&amp;=
\begin{bmatrix}
-2 \\ 
1 \\
\end{bmatrix}.</p>
<p>\end{align}
\]</p>
<p>Here, we see that when multiplying by the identity matrix, the vector remains the same, but when multiplying by the second matrix, the x and y components flip.
Essentially, all of the vector magnitude moved into the &quot;shear&quot; component, while none of it remains in the &quot;scale&quot; component.</p>
<p>My point is that even though it is useful to think of two of our dials as scale factors along \( x \) and \( y \), it does not necessarily paint the whole picture and it is important to consider how these different components work together.</p>
<p>Before continuing to show what the \( \mathbf{A}_{\text{rot}} \) matrix does when applied to a square, it is worth considering two somewhat related matrices where the identity matrix is modified with only the \( \sin(\theta) \) or \( \cos(\theta) \) components.</p>
<table><thead><tr><th>Description</th><th>Transform</th></tr></thead><tbody>
<tr><td>Just sines</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/sines_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Just cosines</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/cosines_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
</tbody></table>
<p>Here, we see two completely different behaviors:</p>
<ol>
<li>In the sine-only case, we see that as \( \theta \) wraps around from \( 0 \rightarrow 2\pi \), the square seems to grow and rotate like expected, but at \( \pi/2 \), it somewhat abruptly decides to move in the other direction.</li>
<li>In cosine-only case, we see the square flip around entirely at \( \pi/2 \).</li>
</ol>
<p>Before watching the next video, it is important to think for a little bit about how these two different interactions will work together in practice.
When you are ready, go ahead and click the play button:</p>
<div style="text-align:center">
<video style="width:100%" controls loop>
  <source src="res/rotation_square_white.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
</div>
<p>At least for me, it took some thinking to figure out why the two animations above create rotation when put together.
When thinking about it, it makes sense that at \( \pi/2 \), the sine component will start to encourage the square to slowly oscillate back towards the original position, but will be tugged in the opposite direction by the cosine component that has turned negative at the same time.
This &quot;coincidence&quot; is what creates a rotational effect.</p>
<p>Overall, the rotation matrix is a fun and interesting application to linear transformations that really helped me understand how the entire class of operations can be used to create more complicated movements.</p>
<h3 id="guarantees-of-affine-transformations"><a class="header" href="#guarantees-of-affine-transformations">Guarantees of affine transformations</a></h3>
<p>At this stage, we have discussed what affine transforms are from a functional perspective; however, (as always) there is a lot more to discuss.
This particular chapter is meant to provide an intuitive feel for the transformations for those who might need to use them for whatever application they need, so I am hesitant to dive too deeply into more rigorous definitions; however, it is important to talk about certain properties of affine transforms that make them suitable for a wide variety of applications.
Namely, affine transformations preserve the following:</p>
<ol>
<li><strong>collinearity between points</strong>. This means that any points that are on the same line before an affine transform must be on that same line after the transformation. The line can still change in slope or position.</li>
<li><strong>parallelism between lines</strong>. Any lines parallel before the transform must also be parallel after.</li>
<li><strong>ratios of the lengths of parallel line segments</strong>. This means if you have two different line segments, one of which is parameterized by \( p_1 \) and \( p_2 \), while the other is parameterized by \( p_3 \) and \( p_4 \), then \( \frac{\vec{p_1 p_2}}{\vec{p_3 p_4}} \) must be the same before and after transformation.</li>
<li><strong>convexity of any transformed shape</strong>. If a shape does not have any concave component (a point that points in towards its center), then it cannot have a concave component after the transformation.</li>
<li><strong>barycenters of the collection of points</strong>. The barycenter is the collective center of mass of the system, like the balancing point for a plate. Essentially, there is an equal amount of &quot;stuff&quot; on either side of the barycenter. This location must remain at the same location relative to each point after transformation.</li>
</ol>
<p>Again, there is a lot more we could talk about, but I feel we will leave more rigorous discussions for later if we need them for subsequent algorithms.
Instead, I believe it is useful to move on to a relatively common implementation of affine transformations: the augmented matrix formalism.</p>
<h2 id="augmented-matrix-implementation"><a class="header" href="#augmented-matrix-implementation">Augmented matrix implementation</a></h2>
<p>As stated before, affine transformations are basically a mix of a transformation matrix and translation.
For two-dimensional input vectors, the augmented matrix formalism combines both of these into a large \( 3 \times 3 \) transformation matrix.
If you are like me, this might be a bit confusing.
After all, if the two-dimensional vector is described by a \( 1 \times 2 \) array, then how do you do a matrix multiplication with a \( 3 \times 3 \) array?</p>
<p>To be honest, the answer <em>feels</em> like a bit of a hack: we simply append a 1 to the end of the input, output, and translation vectors, such that:</p>
<h1>\[
\begin{bmatrix}
\mathbf{v} \\
1 \\
\end{bmatrix}</h1>
<p>\left[\begin{array}{@{}ccc|c@{}}
&amp; \mathbf{A} &amp;  &amp; \ell \\
0 &amp; \cdots &amp; 0 &amp; 1 \\
\end{array}\right]
\begin{bmatrix}
\mathbf{v}_0 \\
1
\end{bmatrix}
\]</p>
<p>So, using </p>
<p>\[
\begin{align}
\mathbf{v}_0 &amp;= \begin{bmatrix}
1 \\ 
2 \\
\end{bmatrix} \\
\mathbf{A} &amp;= \begin{bmatrix}
0 &amp; -1 \\
1 &amp; 0 \\
\end{bmatrix} \\
\ell &amp;= \begin{bmatrix}
0 \\ 
0 \\
\end{bmatrix}
\end{align},
\]</p>
<p>we would perform the following computation:</p>
<h1>\[
\begin{bmatrix}
\mathbf{v} \\
1 \\
\end{bmatrix}</h1>
<p>\left[\begin{array}{@{}cc|c@{}}
0 &amp; -1 &amp; 0 \\
1 &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 1 \\
\end{array}\right]
\begin{bmatrix}
1 \\
2 \\
1
\end{bmatrix}
\]</p>
<p>Doing this, we find that \( \mathbf{v} = [-2,1] \), just as we found in the previous example.
Ok, now we need to talk about why this works.</p>
<p>Appending the 1 to the end of the two-dimensional vectors essentially turn them into three-dimensional vectors, with the \( z \) dimension simply set to be 1.
The easiest way to visualize this is by thinking of the top plane on a larger cube, so here are the same vector operations as before on that cube:</p>
<table><thead><tr><th>Description</th><th>Transform</th></tr></thead><tbody>
<tr><td>Scaling along \( x \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a11_cube_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Scaling along \( y \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a22_cube_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Shearing along \( x \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a12_cube_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Shearing along \( y \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a21_cube_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Translation along \( x \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a13_cube_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Translation along \( y \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a23_cube_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
</tbody></table>
<p>The shear and scaling operations seem about the same as before; however, the translation operations are now clearly a shear along the entire cube!
The only reason this acts as translation for two dimensions is because we only care about the slice through the cube at \( z=1 \).</p>
<p>Now, the reason I always feel this implementation is a bit hacky is because there is a little magic that everyone keeps quiet about: the last row in the matrix.
With all of the operations shown above, it was simply set to \( [0,0,1] \) and never touched again...
But that is terribly unsatisfying!</p>
<p>What would happen if we actually moved those dials and modified the bottom row?
Well...</p>
<table><thead><tr><th>Description</th><th>Transform</th></tr></thead><tbody>
<tr><td>Shearing along \( z \) and \( x \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a31_cube_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Shearing along \( z \) and \( y \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a32_cube_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
<tr><td>Scaling along \( z \)</td><td><div style="text-align:center"> <video style="width:100%" controls loop> <source src="res/a33_cube_white.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div></td></tr>
</tbody></table>
<p>In this case, the first two components are shearing along \( z \) and \( x \) and \( z \) and \( y \), while the last component is a scale along \( z \).
If someone was taking a picture from above, none of these transformations would be visible.
Because we are hyper-focused on the top-down view for affine transformations, none of these operations are technically affine; however, they are still linear, and it is still nice to show all possible linear transforms for the cube as well.</p>
<p>Finally, let us go back to the rotation example:</p>
<div style="text-align:center">
<video style="width:100%" controls loop>
  <source src="res/rotation_cube_white.mp4" type="video/mp4">
Your browser does not support the video tag.
</video>
</div>
<p>Here, we see that we can embed just about any affine transformation into three dimensional space and still see the same results as in the two dimensional case.
I think that is a nice note to end on: affine transformations are linear transformations in an \( n+1 \) dimensional space.</p>
<h2 id="video-explanation"><a class="header" href="#video-explanation">Video Explanation</a></h2>
<p>Here is a video describing affine transformations:</p>
<div style="text-align:center">
<iframe width="560" height="315" src="https://www.youtube.com/embed/E3Phj6J287o" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<h5 id="code-examples"><a class="header" href="#code-examples">Code Examples</a></h5>
<p>The code examples are licensed under the MIT license (found in <a href="https://github.com/algorithm-archivists/algorithm-archive/blob/master/LICENSE.md">LICENSE.md</a>).</p>
<h5 id="text"><a class="header" href="#text">Text</a></h5>
<p>The text of this chapter was written by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
<p><a href="https://creativecommons.org/licenses/by-sa/4.0/"><p><img  class="center" src="../cc/CC-BY-SA_icon.svg" /></p></a></p>
<h5 id="imagesgraphics"><a class="header" href="#imagesgraphics">Images/Graphics</a></h5>
<ul>
<li>The video &quot;<a href="res/a11_square_white.mp4">A11 square</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a22_square_white.mp4">A22 square</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a12_square_white.mp4">A12 square</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a21_square_white.mp4">A21 square</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a13_square_white.mp4">A13 square</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a23_square_white.mp4">A23 square</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/semi_rotate_white.mp4">Semi Rotate</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/sines_white.mp4">Sines</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/cosines_white.mp4">Cosines</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/rotation_square_white.mp4">Rotate Square</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a11_cube_white.mp4">A11 cube</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a22_cube_white.mp4">A22 cube</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a12_cube_white.mp4">A12 cube</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a21_cube_white.mp4">A21 cube</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a13_cube_white.mp4">A13 cube</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a23_cube_white.mp4">A23 cube</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a31_cube_white.mp4">A31 cube</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a32_cube_white.mp4">A32 cube</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/a33_cube_white.mp4">A33 cube</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
<li>The video &quot;<a href="res/rotation_cube_white.mp4">Rotation cube</a>&quot; was created by <a href="https://github.com/leios">James Schloss</a> and is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../notation/notation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../bitlogic/bitlogic.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../notation/notation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../bitlogic/bitlogic.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://0.0.0.0:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
